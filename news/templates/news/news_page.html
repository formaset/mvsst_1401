{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block extra_meta %}
  <meta property="og:title" content="{{ page.title }}" />
  <meta property="og:description" content="{{ page.intro }}" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="{{ request.build_absolute_uri }}" />
  {% if page.cover_image %}
    {% image page.cover_image fill-1200x630 as og_image %}
    <meta property="og:image" content="{{ og_image.url }}" />
  {% endif %}
{% endblock %}

{% block content %}
  <section class="page-hero">
    <div class="container">
      <div class="news-date">{{ page.date|date:"d.m.Y" }}</div>
      <h1 class="page-title">{{ page.title }}</h1>
      <p class="page-intro">{{ page.intro }}</p>
      {% if page.cover_image %}
        <div class="news-cover">
          {% image page.cover_image fill-960x480 %}
        </div>
      {% endif %}
    </div>
  </section>
  <section class="page-section">
    <div class="container content-narrow">
      {% for block in page.body %}
        {% include_block block %}
      {% empty %}
        <div class="empty-state">Добавьте контент новости.</div>
      {% endfor %}
    </div>
  </section>
{% endblock %}
